#:import Factory kivy.factory.Factory

# <ProgressPopup>:
#     bar: bar
#     on_open: self.start()
#     ProgressBar:
#         id: bar

<DbPopulatePopup>:
    bar: bar
    on_open: self.start()
    BoxLayout:
        ProgressBar:
            id: bar

<InventoryInitPopup>:
    title: "Inventory Initialization"
    size_hint_x: 0.8
    size_hint_y: None
    height: self.width * 0.3
    on_open: self.parts_init()
    prime_prompt: prime_prompt
    BoxLayout:
        id: layout
        orientation: 'horizontal'
        Image:
            size_hint_x: None
            width: self.height
        Label:
            id: prime_prompt
            halign: 'left'
            valign: 'center'
            padding: (15, 15)
            text_size: self.size
        BoxLayout:
            orientation: 'vertical'
            size_hint_x: None
            width: self.height
            Button:
                text: "Yes"
                on_release: root.next_part()
            Button:
                text: "No"
                on_release: root.dismiss()

BoxLayout:
    orientation: 'vertical'
    Button:
        text: "Populate Database"
        on_release: Factory.DbPopulatePopup().open()
    Button:
        text: "Initialize Inventory"
        on_release: Factory.InventoryInitPopup().open()
    Button:
        text: "Close App"
        on_release: app.stop()
